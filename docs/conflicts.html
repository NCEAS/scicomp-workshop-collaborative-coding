<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.0.37">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Sci Comp Workshop - GitHub - Conflicts</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
span.underline{text-decoration: underline;}
div.column{display: inline-block; vertical-align: top; width: 50%;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./images/scicomptools_hex.png" rel="icon" type="image/png">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="site_libs/bootstrap/bootstrap-dark.min.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>


<link rel="stylesheet" href="styles.css">
<meta name="twitter:title" content="Sci Comp Workshop - GitHub - Conflicts">
<meta name="twitter:description" content="Merge conflicts are a normal part of the git workflow so don’t get discouraged when you run into them! They occur when git cannot figure out how to automatically merge new changes together.">
<meta name="twitter:card" content="summary">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">Sci Comp Workshop - GitHub</span>
  </a>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="./index.html">Home</a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./motivations.html">Workflows</a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./github.html">GitHub</a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./rstudio.html">RStudio</a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./issues.html">Issues</a>
  </li>  
  <li class="nav-item">
    <a class="nav-link active" href="./conflicts.html" aria-current="page">Conflicts</a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./branches.html">Branches</a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./forks.html">Forks</a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./server.html">Server</a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./about.html">Content Creators</a>
  </li>  
</ul>
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/NCEAS/scicomp-workshop-collaborative-coding"><i class="bi bi-github" role="img">
</i> 
 </a>
  </li>  
</ul>
              <div class="quarto-toggle-container">
                  <a href="" class="quarto-color-scheme-toggle nav-link" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
              </div>
              <div id="quarto-search" class="" title="Search"></div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#what-is-a-merge-conflict" id="toc-what-is-a-merge-conflict" class="nav-link active" data-scroll-target="#what-is-a-merge-conflict">What is a Merge Conflict?</a></li>
  <li><a href="#brief-overview-of-merge-conflict-workflow" id="toc-brief-overview-of-merge-conflict-workflow" class="nav-link" data-scroll-target="#brief-overview-of-merge-conflict-workflow">Brief Overview of Merge Conflict Workflow</a></li>
  <li><a href="#how-merge-conflicts-happen" id="toc-how-merge-conflicts-happen" class="nav-link" data-scroll-target="#how-merge-conflicts-happen">How Merge Conflicts Happen</a></li>
  <li><a href="#resolving-merge-conflicts" id="toc-resolving-merge-conflicts" class="nav-link" data-scroll-target="#resolving-merge-conflicts">Resolving Merge Conflicts</a></li>
  <li><a href="#tips-on-avoiding-merge-conflicts" id="toc-tips-on-avoiding-merge-conflicts" class="nav-link" data-scroll-target="#tips-on-avoiding-merge-conflicts">Tips on Avoiding Merge Conflicts</a></li>
  </ul>
<div class="toc-actions"><div><i class="bi bi-github"></i></div><div class="action-links"><p><a href="https://github.com/NCEAS/scicomp-workshop-collaborative-coding/issues/new" class="toc-action">Report an issue</a></p></div></div></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Conflicts</h1>
</div>



<div class="quarto-title-meta">

    
    
  </div>
  

</header>

<section id="what-is-a-merge-conflict" class="level2">
<h2 class="anchored" data-anchor-id="what-is-a-merge-conflict">What is a Merge Conflict?</h2>
<p><img src="images/nceas_logo_square.png" align="right" width="15%"></p>
<p>Merge conflicts are a normal part of the <code>git</code> workflow so don’t get discouraged when you run into them! They occur when <code>git</code> cannot figure out how to automatically merge new changes together. This can happen when you and your collaborators change the same lines in the same file without first pulling the changes that the other party has made.</p>
</section>
<section id="brief-overview-of-merge-conflict-workflow" class="level2">
<h2 class="anchored" data-anchor-id="brief-overview-of-merge-conflict-workflow">Brief Overview of Merge Conflict Workflow</h2>
<p>So the basic steps to resolving a merge conflict using RStudio are as follows:</p>
<ol type="1">
<li><p>When a conflict happens, your local file will automatically be modified to include both possible lines (wrapped in some formatting characters described in greater detail below)</p></li>
<li><p>Edit the lines in your file(s) that caused the merge conflict to your desired status</p></li>
<li><p><strong>Commit</strong> those changes</p></li>
<li><p><strong><span style="color:green">Push</span></strong> your changes to GitHub</p></li>
</ol>
<p>We can see those steps visually in the following workflow diagram:</p>
<p><img src="images/git-conflict-workflow.png" class="img-fluid"></p>
</section>
<section id="how-merge-conflicts-happen" class="level2">
<h2 class="anchored" data-anchor-id="how-merge-conflicts-happen">How Merge Conflicts Happen</h2>
<p>Below is a common scenario that can lead to merge conflicts and then the steps to address a conflict when it occurs.</p>
<p>Let’s say we have a repository that we’ve shared with a collaborator. Currently there’s a <code>README.md</code> and only one script, <code>test-script.R</code>, in it.</p>
<p><img src="images/conflicts-1-example-repo.png" class="img-fluid"></p>
<p><code>test-script.R</code> contains one line. Suppose we want to work on this script and add more lines to it.</p>
<p><img src="images/conflicts-2-test-script.png" class="img-fluid"></p>
<p>Let’s go commit our edits. The green lines highlight the fact that we’ve added two new lines to our script, lines 2 and 3. We type out our commit message, and click <strong>Commit</strong>.</p>
<p><img src="images/conflicts-3-birds.png" class="img-fluid"></p>
<p>Great! The message “Your branch is ahead of ‘origin/main’ by 1 commit” lets us know that everything is proceeding smoothly. Suppose that we decided to take a break and stepped away from our computer.</p>
<p><img src="images/conflicts-4-birds-commit.png" class="img-fluid"></p>
<p>Then, unbeknownst to us, our collaborator made their edits to the same script and committed and pushed their changes to the GitHub repository. At the moment, here is what the shared repository looks like.</p>
<p><img src="images/conflicts-5-flowers.png" class="img-fluid"></p>
<p>When we get back to our computer, we’re ready to <strong><span style="color:green">push</span></strong> our changes to GitHub, but an error shows up. Basically, it is telling us that our GitHub repository contains changes that we do not have on our local computer. To remedy this, the message suggests that we pull the changes from GitHub to our machine to catch our local machine back up.</p>
<p><img src="images/conflicts-6-birds-push.png" class="img-fluid"></p>
<p>After clicking <strong><span style="color:blue">Pull</span></strong>, we get a new error message: “Merge conflict in test-script.R”.</p>
<p><img src="images/conflicts-7-birds-pull.png" class="img-fluid"></p>
<p>Looking closer, the merge conflict prompted a new version of <code>test-script.R</code> to pop up. This version contains our edits and our collaborator’s edits, along with the delimiter lines that start with <code>&lt;&lt;&lt;&lt;&lt;&lt;&lt;</code>, <code>=======</code>, and <code>&gt;&gt;&gt;&gt;&gt;&gt;&gt;</code>. <code>git</code> is urging us to manually fix the conflicted lines before continuing.</p>
<p><img src="images/conflicts-8-conflicted-lines.png" class="img-fluid"></p>
<p>Our file now has an <strong><span style="color:orange">U</span></strong> icon, which stands for an unresolved merge conflict.</p>
<p><img src="images/conflicts-9-unresolved.png" class="img-fluid"></p>
<p>In general terms the steps that come before a merge conflict are displayed in the visual below. Note that though this has visual similarity to the workflow diagrams throughout this bookdown we do not recommend intentionally causing a merge conflict :)</p>
<p><img src="images/git-conflict-cause.png" class="img-fluid"></p>
</section>
<section id="resolving-merge-conflicts" class="level2">
<h2 class="anchored" data-anchor-id="resolving-merge-conflicts">Resolving Merge Conflicts</h2>
<p>So how do we resolve this merge conflict? We need to edit the script so that it looks like how we want it. We can either pick our lines to keep, our collaborator’s lines, some combination, or something new altogether. Be sure to communicate with your collaborator to discuss exactly how it should be fixed. After merging the changes wherever appropriate, delete the delimiter lines.</p>
<p><img src="images/conflicts-10-resolved.png" class="img-fluid"></p>
<p>Then stage, commit the changes, and push them to GitHub!</p>
<p><img src="images/conflicts-11-commit-resolved.png" class="img-fluid"></p>
<p>Perfect! We’ve fixed the merge conflict!</p>
<p><img src="images/conflicts-12-push-resolved.png" class="img-fluid"></p>
<p>Let’s check back on the shared repository. The latest commit shows that we’ve successfully pushed our changes to GitHub.</p>
<p><img src="images/conflicts-13-merged.png" class="img-fluid"></p>
<p><img src="images/conflicts-14-checking-merged.png" class="img-fluid"></p>
<p>Navigating to the commit history, we see that first we committed our changes, then our collaborator committed and pushed their changes, causing a merge conflict since we were editing the same lines in the same file. To resolve this, we edited those lines directly in our RStudio and committed and pushed our changes once more. Finally, the merge conflict is resolved and all the necessary changes are merged.</p>
<p><img src="images/conflicts-15-commit-history.png" class="img-fluid"></p>
</section>
<section id="tips-on-avoiding-merge-conflicts" class="level2">
<h2 class="anchored" data-anchor-id="tips-on-avoiding-merge-conflicts">Tips on Avoiding Merge Conflicts</h2>
<p>Merge conflicts aren’t exactly fun, so here are some tips to avoid them:</p>
<ul>
<li>Communicate with your team members/collaborators often to avoid working on the same files at the same time! Let each other know who is working on what</li>
<li>Commit often in small chunks</li>
<li>Try <strong><span style="color:blue">pulling</span></strong> before committing</li>
</ul>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  let localAlternateSentinel = 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } 
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    setTimeout(function() {
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      let href = ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const cites = ref.parentNode.getAttribute('data-cites').split(' ');
    tippyHover(ref, function() {
      var popup = window.document.createElement('div');
      cites.forEach(function(cite) {
        var citeDiv = window.document.createElement('div');
        citeDiv.classList.add('hanging-indent');
        citeDiv.classList.add('csl-entry');
        var biblioDiv = window.document.getElementById('ref-' + cite);
        if (biblioDiv) {
          citeDiv.innerHTML = biblioDiv.innerHTML;
        }
        popup.appendChild(citeDiv);
      });
      return popup.innerHTML;
    });
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
    var links = window.document.querySelectorAll('a:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
          // target, if specified
          link.setAttribute("target", "_blank");
      }
    }
});
</script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
      <div class="nav-footer-center">Copyright 2022, NCEAS</div>
  </div>
</footer>



</body></html>