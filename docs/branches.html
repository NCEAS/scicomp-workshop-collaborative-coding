<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.2.267">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Sci Comp Workshop - GitHub - Branches</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./images/scicomptools_hex.png" rel="icon" type="image/png">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="site_libs/bootstrap/bootstrap-dark.min.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>


<link rel="stylesheet" href="styles.css">
<meta name="twitter:title" content="Sci Comp Workshop - GitHub - Branches">
<meta name="twitter:description" content="A branch is essentially a working environment in your git repository that is separate from your main working area.">
<meta name="twitter:card" content="summary">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">Sci Comp Workshop - GitHub</span>
    </a>
  </div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="./index.html">
 <span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-core-topics" role="button" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Core Topics</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-core-topics">    
        <li>
    <a class="dropdown-item" href="./motivations.html">
 <span class="dropdown-text">Workflows</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./github.html">
 <span class="dropdown-text"><code>git</code> &amp; GitHub</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./rstudio.html">
 <span class="dropdown-text">RStudio</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-advanced-topics" role="button" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Advanced Topics</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-advanced-topics">    
        <li>
    <a class="dropdown-item" href="./conflicts.html">
 <span class="dropdown-text">Conflicts</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./branches.html">
 <span class="dropdown-text">Branches</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./forks.html">
 <span class="dropdown-text">Forks</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-project-management" role="button" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Project Management</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-project-management">    
        <li>
    <a class="dropdown-item" href="./issues.html">
 <span class="dropdown-text">Issues</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="./server.html">
 <span class="menu-text">NCEAS’ Server</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./about.html">
 <span class="menu-text">Content Creators</span></a>
  </li>  
</ul>
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/NCEAS/scicomp-workshop-collaborative-coding"><i class="bi bi-github" role="img">
</i> 
 <span class="menu-text"></span></a>
  </li>  
</ul>
              <div class="quarto-toggle-container">
                  <a href="" class="quarto-color-scheme-toggle nav-link" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
              </div>
              <div id="quarto-search" class="" title="Search"></div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#what-is-a-branch" id="toc-what-is-a-branch" class="nav-link active" data-scroll-target="#what-is-a-branch">What is a Branch?</a></li>
  <li><a href="#brief-overview-of-branch-workflow" id="toc-brief-overview-of-branch-workflow" class="nav-link" data-scroll-target="#brief-overview-of-branch-workflow">Brief Overview of Branch Workflow</a></li>
  <li><a href="#create-a-branch" id="toc-create-a-branch" class="nav-link" data-scroll-target="#create-a-branch">Create a Branch</a></li>
  <li><a href="#work-in-the-branch" id="toc-work-in-the-branch" class="nav-link" data-scroll-target="#work-in-the-branch">Work in the Branch</a></li>
  <li><a href="#closing-a-branch" id="toc-closing-a-branch" class="nav-link" data-scroll-target="#closing-a-branch">Closing a Branch</a></li>
  <li><a href="#update-local-repository" id="toc-update-local-repository" class="nav-link" data-scroll-target="#update-local-repository">Update Local Repository</a></li>
  </ul>
<div class="toc-actions"><div><i class="bi bi-github"></i></div><div class="action-links"><p><a href="https://github.com/NCEAS/scicomp-workshop-collaborative-coding/issues/new" class="toc-action">Report an issue</a></p></div></div></nav>
    <div class="quarto-margin-footer"><div class="margin-footer-item">
<p><img src="images/nceas_logo_square.png" width="40%"> <img src="images/lter_logo_square.png" width="40%"></p>
</div></div></div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Branches</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<section id="what-is-a-branch" class="level2">
<h2 class="anchored" data-anchor-id="what-is-a-branch">What is a Branch?</h2>
<p>A <strong>branch</strong> is essentially a working environment in your <code>git</code> repository that is separate from your main working area. This can be incredibly useful when you have a task to work on but you don’t want to risk damaging the version of your code that already works. Note that “branch” can be either a noun or a verb as with many of the <code>git</code> vocabulary words discussed earlier (e.g., “commit”, “push”, etc.).</p>
<p>Branches are typically created with <strong>the intent to put the work in the branch back into the main branch when you are done with it.</strong> Implicit in that rationale is the fact that most branches are created with a specific task/sub-task in mind and known to be temporary from the outset.</p>
<p>As an example, imagine that you want to put a better engine in your car but you don’t want to risk damaging your car as you go about that job. In <code>git</code> terms you could create a branch to work on those mechanical improvements while at the same time preserving your original car separately (in the “main” branch). When you’re done experimenting and happy with the new version of your car, you can merge the two cars keeping all of the improvements you made in your branch.</p>
<p>Even if you think you’ve never worked with <code>git</code> branches you actually have! All <code>git</code> repositories actually start in a branch named “main” so even if you’ve never intentionally created a branch, you’ve been working in your “main” branch all along.</p>
</section>
<section id="brief-overview-of-branch-workflow" class="level2">
<h2 class="anchored" data-anchor-id="brief-overview-of-branch-workflow">Brief Overview of Branch Workflow</h2>
<p>Before diving into the specifics of how to use branches while working with <code>git</code>, let’s take a look at a general overview of that process.</p>
<p>As with many other <code>git</code> operations, the first thing to do is <strong><span style="color:blue">pull</span></strong> from GitHub to your local repository to ensure that you’re working with the most up-to-date version of everything in the repo (see <strong>Step 1</strong> below).</p>
<p>Once that is done, you can create a branch on your local machine (automatically shifting your RStudio project into that new branch). Doing this on your machine also updates GitHub to show that there are multiple branches (see <strong>Step 2</strong> below).</p>
<p>Once you have created a branch you can work in it locally (and via GitHub directly) as you would normally. You can <strong><span style="color:gold">edit</span></strong> your files locally, <strong>commit</strong> those changes, <strong><span style="color:blue">pull</span></strong> from GitHub (within the branch), and <strong><span style="color:green">push</span></strong> to GitHub (see <strong>Steps 3-4</strong> below).</p>
<p>When you are done working with the branch (i.e., you’ve finished the task for which you created the branch), you can use GitHub to merge your branch with the main one (see <strong>Step 5</strong> below). This puts all of the content in your branch into the main one now (which puts your local version of the “main” branch behind!).</p>
<p>Once the two branches are merged on GitHub, go back to your local computer, manually change the branch to the main branch and pull (see <strong>Step 7</strong> below). This updates your local version of the main branch and avoids future problems.</p>
<p>Given that most branches are not used again after they are merged, it is often a good housekeeping step to then <strong>delete</strong> your branch on GitHub and locally once you have successfully merged the pull request (see <strong>Steps 6 &amp; 8</strong> below). Note that in the below diagram step 6 and 8 occur on either side of step 7 but in truth they can both come after depending on your preference.</p>
<p>However, deletion of the branch either locally or via GitHub <strong>must</strong> come <em>after</em> step 5!</p>
<p>As you can see from the above text and the below diagram, branches have a few more moving parts than the <code>git</code> and GitHub operations we’ve discussed so far. That said, they can be a powerful tool in service of collaborative work because you can have multiple branches active at the same all working on separate tasks. This approach can be an easy (or at least eas<em>ier</em>) workflow for working together while avoiding conflicts (again, see “Appendix A: Conflicts”).</p>
<p align="center">
<img src="images/branches/git-branch-workflow.png" width="75%">
</p>
<p>Now we’ve gone over this big picture overview, let’s walk step-by-step through creating, working in and ultimately merging branches!</p>
</section>
<section id="create-a-branch" class="level2">
<h2 class="anchored" data-anchor-id="create-a-branch">Create a Branch</h2>
<p>Before you create a branch, <strong><span style="color:blue">pull</span></strong> from GitHub as a precaution so that you are certain your local repository has the most up-to-date content.</p>
<p>That done, click the <strong><span style="color:purple">purple</span></strong> button in the Git tab of RStudio that shows two rectangles connected by a diamond at right-angles from one another.</p>
<p align="center">
<img src="images/branches/branches-1-new-branch-button.png" width="75%">
</p>
<p>In the resulting dialogue box, give your new branch an informative name. In this example we haven’t given our new branch a great name but in a “real” repository you will greatly appreciate having concise but descriptive branch names.</p>
<p>Once you’re happy with the name, click <strong>“Create”</strong> (you can ignore the other options and buttons on this dialogue box).</p>
<p align="center">
<img src="images/branches/branches-2-name-new-branch.png" width="65%">
</p>
<p>This will create a confirmation message that is superficially similar to the format of messages returned by other <code>git</code> actions.</p>
<p align="center">
<img src="images/branches/branches-2b-success-dialogue.png" width="75%">
</p>
<p>You will also notice that in your Git tab where previously it said “main” it now shows whatever name you chose for your branch.</p>
<p align="center">
<img src="images/branches/branches-2c-new-branch.png" width="75%">
</p>
</section>
<section id="work-in-the-branch" class="level2">
<h2 class="anchored" data-anchor-id="work-in-the-branch">Work in the Branch</h2>
<p>You can now work in a branch <em>in the same way</em> that you work with GitHub via RStudio when you are not using branches.</p>
<ol type="1">
<li>Make <strong><span style="color:gold">edits</span></strong></li>
<li><strong>Commit</strong> changes locally</li>
<li><strong><span style="color:blue">Pull</span></strong> from GitHub to reduce the chances of a conflict</li>
<li><strong><span style="color:green">Push</span></strong> your committed changes to GitHub</li>
</ol>
<p>The reason you use the same workflow is–as previously stated–even if you don’t typically use branches, all work in <code>git</code> is functionally done in the “main” branch of your repository.</p>
<p>For a more in-depth review of the RStudio-GitHub workflow, see Chapter 3: Using GitHub via Rstudio</p>
</section>
<section id="closing-a-branch" class="level2">
<h2 class="anchored" data-anchor-id="closing-a-branch">Closing a Branch</h2>
<p>Once you’ve completely finished working in your branch, <strong><span style="color:green">push</span></strong> your work (if your local files are ahead of the GitHub versions) and go to your repository’s GitHub page.</p>
<p>On that page GitHub will helpfully have created a button at the top of the screen notifying you that your branch had recent pushes and will offer a <span style="color:green">green</span> button to “Compare &amp; pull request”.</p>
<p>Click that button.</p>
<p><img src="images/branches/branches-6-pull-request-start.png" class="img-fluid"></p>
<p>You will then be prompted to write a title and message for your pull request to give some broader context for what the branch does. This is especially valuable if you are not the one reviewing pull requests as this can help someone quickly familiarize themselves with what you have done.</p>
<p>Once you’re satisfied with your title and message, click the <span style="color:green">green</span> “Create pull request” button.</p>
<p><img src="images/branches/branches-7-pull-request-msg.png" class="img-fluid"></p>
<p>That done, GitHub will send you to a page that looks very much like a Github issue (see the chapter on issues). At the top is whatever title and message you just wrote when opening the pull request following by a list of all of the commits in that branch.</p>
<p>Those commits are “live” and function as hyperlinks in case you want to view how your code is preserved in GitHub.</p>
<p>Note also that if you realize you forgot to do something in your branch (or if someone asks you change something) you can return to RStudio and commit/pull/push and it will automatically update on the pull request. Pull requests are for merging a whole branch, not for merging just a part of the work in the branch.</p>
<p>You or your team can post messages on a pull request as needed (see the text box at the bottom of the below picture).</p>
<p>If you are ready to merge a pull request from your branch into the “main” branch click the intuitively-named <span style="color:green">green</span> “Merge pull request” button.</p>
<p><img src="images/branches/branches-8-active-pull-request.png" class="img-fluid"></p>
<p>GitHub will open another text box where you can add a commit message to your acceptance of the pull request. If whoever opened the pull request was sufficiently detailed in their opening comment(s) this may not need to be terribly detailed but it can’t hurt!</p>
<p>Once your message is written, click the <span style="color:green">green</span> “Confirm merge” button.</p>
<p><img src="images/branches/branches-9-pull-request-accept-msg.png" class="img-fluid"></p>
<p>The green ‘open’ buttons will change to purple and will use the “merge” icon of two streams combining. As with GitHub issues you can continue to post comments on a merged pull request if you feel it will be valuable for posterity to do so.</p>
<p>GitHub will also handily create a “Delete branch” button at the bottom of the pull request’s timeline. We recommend that you click it given that your branch’s purpose is served and having irrelevant branches clutters your GitHub and may even cause problems if you have two similarly-named branches where one has been merged and the other has not.</p>
<p><img src="images/branches/branches-10-successful-merge.png" class="img-fluid"></p>
<p>After you click “Delete branch” it will be replaced by a “Restore branch” button so you could always reclaim it if need be.</p>
<p><img src="images/branches/branches-11-deleted-branch.png" class="img-fluid"></p>
<p>Finally, return to the “Code” tab of your GitHub repository and you can see that the changes we implemented in the branch are now part of the repository’s “main” branch. The branch name is displayed just above the last commit message and the first file in the repository but below the different tab names.</p>
<p><img src="images/branches/branches-12-github-repo-post-merge.png" class="img-fluid"></p>
</section>
<section id="update-local-repository" class="level2">
<h2 class="anchored" data-anchor-id="update-local-repository">Update Local Repository</h2>
<p>Now that GitHub has been told to integrate your branch content with the “main” branch, you need to let RStudio know that integration has taken place!</p>
<p>First, click the name of the branch to see all the branch names in your repository and select the “main” branch to flip your local repository over to that branch.</p>
<p align="center">
<img src="images/branches/branches-14-switch-local-to-main.png" width="75%">
</p>
<p>Notice though that our script went back to the pre-merge version but don’t panic!</p>
<p>In order to update your local version of the repository all that you need to do is click the <strong><span style="color:blue">pull</span></strong> button. This brings the content you just merged via GitHub (see above) into your local repository.</p>
<p><img src="images/branches/branches-15-notice-outdated-script.png" class="img-fluid"></p>
<p>You will get a success message indicating the changes to each file in the same way any other <strong><span style="color:blue">pull</span></strong> would. You can notice between this picture and the previous that the code automatically changes when the <strong><span style="color:blue">pull</span></strong> is complete.</p>
<p align="center">
<img src="images/branches/branches-16-pull-merged-repo.png" width="75%">
</p>
<p>Now that you merged your branch with the main branch on GitHub and pulled that merged content down to your local version you have successfully start-to-finish used branches in your workflow.</p>
<p>Many branches can exist at the same time and sometimes it helpful to create a branch starting from another branch, but these special cases obey the same basic structure described above and are outside the scope of this primer.</p>
<p>That said, we recommend branches as one way to avoid conflicts when you and your collaborators want to work simultaneously in the same repository on different scripts!</p>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  let localAlternateSentinel = 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } else {
    toggleColorMode(false);
  }
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
    var links = window.document.querySelectorAll('a:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
          // target, if specified
          link.setAttribute("target", "_blank");
      }
    }
});
</script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
      <div class="nav-footer-center">Copyright 2022, NCEAS</div>
  </div>
</footer>



</body></html>